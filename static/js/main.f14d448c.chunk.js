(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{169:function(a,e,t){a.exports=t(548)},173:function(a,e,t){},174:function(a,e,t){},548:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),o=t(7),i=t.n(o),l=(t(173),t(158)),s=t(159),c=t(168),u=t(167),d=t(97),m=t(38),h=(t(174),function(a){return r.a.createElement("div",{className:"results"},r.a.createElement("div",{className:"data confirmed"},r.a.createElement("p",null,"Confirmed:"),r.a.createElement("p",{className:"num"},a.data.confirmed)),r.a.createElement("div",{className:"data deaths"},r.a.createElement("p",null,"Deaths:"),r.a.createElement("p",{className:"num"},a.data.deaths)),r.a.createElement("div",{className:"data recovered"},r.a.createElement("p",null,"Recovered:"),r.a.createElement("p",{className:"num"},a.data.recovered)))}),b=function(){return r.a.createElement("nav",{className:"nav"},r.a.createElement(m.b,{to:"/",exact:!0},r.a.createElement("button",{className:"button button-5"},r.a.createElement("div",{className:"translate"}),r.a.createElement("a",{href:!0},"Numbers"))),r.a.createElement(m.b,{to:"/chart"},r.a.createElement("button",{className:"button button-5"},r.a.createElement("div",{className:"translate"}),r.a.createElement("a",{href:!0},"Chart"))))},p=(t(179),function(){return r.a.createElement("div",{className:"error"},r.a.createElement("p",null,"This page doesn't exist"))}),g=t(3),v=t(165),f=function(a){var e={labels:"",datasets:[],type:"line"};return e.labels=a.chartData.map((function(a){return a.Date.substring(0,10)})),e.datasets=[{label:"confirmed",data:a.chartData.map((function(a){return a.Confirmed})),backgroundColor:"rgb(163, 19, 48);",borderColor:"rgb(163, 19, 48);",borderWidth:1}],console.log(e),r.a.createElement("div",{className:"chart"},r.a.createElement(v.Line,{data:{labels:e.labels,datasets:[{label:"confirmed",data:a.chartData.map((function(a){return a.Confirmed})),borderColor:"rgb(163, 19, 48)",borderWidth:1},{label:"deaths",data:a.chartData.map((function(a){return a.Deaths})),borderColor:"rgb(46, 28, 32)",borderWidth:1},{label:"recovered",data:a.chartData.map((function(a){return a.Recovered})),borderColor:"rgb(23, 83, 8)",borderWidth:1}]},width:450,height:400,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}))},y=function(a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/",exact:!0,component:function(){return r.a.createElement(h,{data:a.data})}}),r.a.createElement(g.a,{path:"/chart",component:function(){return r.a.createElement(f,{chartData:a.chartData})}}),r.a.createElement(g.a,{path:"/",component:p})))},E=function(a){Object(c.a)(t,a);var e=Object(u.a)(t);function t(){var a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=e.call.apply(e,[this].concat(r))).state={country:"",time:"",data:{confirmed:"-",deaths:"-",recovered:"-"},chartData:[]},a.handleSubmit=function(e){if(e.preventDefault(),console.log("submit"),""!==a.state.country&&""!==a.state.time){var t=a.state.country.toLowerCase(),n=a.state.time,r=(new Date).getTime();r-=r%864e5;var o,i,l,s=new Date(r).toISOString();"yesterday"===n?o=r-1728e5:"last 7 days"===n?o=r-6048e5:"last 30 days"===n&&(o=r-2592e6),i="whole time"===n?"2020-02-26T00:00:00Z":new Date(o).toISOString(),"world"===t?(l="https://api.covid19api.com/world?from=".concat(i,"&to=").concat(s),fetch(l).then((function(a){return a.json()})).then((function(e){console.log(e);var t=e[e.length-1],n=e[0],r=n.TotalConfirmed-t.TotalConfirmed,o=n.TotalDeaths-t.TotalDeaths,i=n.TotalRecovered-t.TotalRecovered;console.log(r,o,i),a.setState({data:{confirmed:r,deaths:o,recovered:i},chartData:e})}))):(l="https://api.covid19api.com/country/".concat(t,"?from=").concat(i,"&to=").concat(s),fetch(l).then((function(a){return a.json()})).then((function(e){console.log(e);var t=e[0],n=e[e.length-1],r=n.Confirmed-t.Confirmed,o=n.Deaths-t.Deaths,i=n.Recovered-t.Recovered;console.log(r,o,i),a.setState({data:{confirmed:r,deaths:o,recovered:i},chartData:e})})))}else console.log("bad form")},a.handleFormChange=function(e){"yesterday"===e.value||"last 7 days"===e.value||"last 30 days"===e.value||"whole time"===e.value?a.setState({time:e.value}):a.setState({country:e.value})},a}return Object(s.a)(t,[{key:"componentDidUpdate",value:function(a,e){console.log(this.state)}},{key:"render",value:function(){var a=["Afghanistan","Albania","Algeria","Andorra","Angola","Anguilla","Antigua &amp; Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia &amp; Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Cape Verde","Cayman Islands","Chad","Chile","China","Colombia","Congo","Cook Islands","Costa Rica","Cote D Ivoire","Croatia","Cruise Ship","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Polynesia","French West Indies","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kuwait","Kyrgyz Republic","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Namibia","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russia","Rwanda","Saint Pierre &amp; Miquelon","Samoa","San Marino","Satellite","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","St Kitts &amp; Nevis","St Lucia","St Vincent","St. Lucia","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor L'Este","Togo","Tonga","Trinidad &amp; Tobago","Tunisia","Turkey","Turkmenistan","Turks &amp; Caicos","Uganda","Ukraine","United Arab Emirates","United Kingdom","Uruguay","Uzbekistan","Venezuela","Vietnam","Virgin Islands (US)","Yemen","Zambia","Zimbabwe"].map((function(a){return{value:a,label:a}}));return r.a.createElement(m.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form"},r.a.createElement(d.a,{options:a,onChange:this.handleFormChange,isSearchable:!0,placeholder:"select country",className:"select"}),r.a.createElement(d.a,{options:[{value:"yesterday",label:"yesterday"},{value:"last 7 days",label:"last 7 days"},{value:"last 30 days",label:"last 30 days"},{value:"whole time",label:"whole time"}],onChange:this.handleFormChange,placeholder:"select time period",className:"select"}),r.a.createElement("button",{type:"submit",className:"button button-5"},r.a.createElement("div",{className:"translate"}),r.a.createElement("span",null,"Submit"))),r.a.createElement(b,null),r.a.createElement("div",{className:"results"},r.a.createElement(y,{data:this.state.data,chartData:this.state.chartData}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.f14d448c.chunk.js.map